{%extends "part/base"%}
{%block title%}Tonbo blog--Markdown{%endblock title%}
{%block extrahead%}
<link rel="stylesheet" type="text/css" href="/static/frozen/editormd/css/editormd.min.css">
<script type="text/javascript" src="/static/frozen/editormd/js/editormd.min.js"></script>
{%endblock extrahead%}

{%block content%}
<div class="maincontainer">
  <div class="col-md-12" id="layout1">
    <div class="btns">
        <button class="btn btn-primary" id="show-btn">显示编辑器</button><button class="btn btn-primary" id="hide-btn">隐藏编辑器</button><button class="btn btn-primary" id="get-md-btn">获取Markdown(源码)</button><button class="btn btn-primary" id="get-html-btn">获取HTML(源码)</button><button class="btn btn-primary" id="watch-btn">开启实时预览</button><button class="btn btn-primary" id="unwatch-btn">关闭实时预览</button><button class="btn btn-primary" id="fullscreen-btn">全屏(按ESC取消)</button><button class="btn btn-primary" id="show-toolbar-btn">显示工具栏</button><button class="btn btn-primary" id="close-toolbar-btn">关闭工具栏</button>
    </div>
    <div id="test-editormd">
      <textarea style="display:none">
###主要特性

- 支持Markdown标准和Github风格；
- 支持实时预览、图片（跨域）上传和多语言语法高亮；
- 支持ToC（Table of Contents）；
- 兼容主流的浏览器（IE8+）和Zepto.js，且支持iPad等平板设备；
- 支持识别和解析HTML标签，具有几乎无限的扩展性；
- 支持TeX科学公式（基于KaTeX）；
- 支持流程图 flowchart 和时序图 sequenceDiagram;
- 支持AMD/CMD模块化加载（支持 Require.js & Sea.js）；

**目录**

[TOC]

#Hello world!
##Hello world!                
###Hello world!
####Hello world!
#####Hello world!
######Hello world!

###字符效果和横线等
                
----

~~删除线~~ <s>删除线（开启识别HTML标签时）</s>
*斜体字*      _斜体字_
**粗体**  __粗体__
***粗斜体*** ___粗斜体___

上标：X<sub>2</sub>，下标：O<sup>2</sup>

**缩写(同HTML的abbr标签)**

> 即更长的单词或短语的缩写形式，前提是开启识别HTML标签时，已默认开启

The <abbr title="Hyper Text Markup Language">HTML</abbr> specification is maintained by the <abbr title="World Wide Web Consortium">W3C</abbr>.

###引用

> 引用文本

引用的行内混合
                    
> 引用：如果想要插入空白换行`即<br />标签`，在插入处先键入两个以上的空格然后回车即可，[普通链接](http://localhost/)。

###锚点与链接

[普通链接](http://localhost/)

[普通链接带标题](http://localhost/ "普通链接带标题")

直接链接：<https://github.com>

[锚点链接][anchor-id] 

[anchor-id]: http://www.this-anchor-link.com/

###多语言代码高亮

####行内代码

执行命令：`npm install marked`

####缩进风格

即缩进四个空格，也做为实现类似`<pre>`预格式化文本(Preformatted Text)的功能。

    <?php
        echo "Hello world!";
    ?>
    
预格式化文本：

    | First Header  | Second Header |
    | ------------- | ------------- |
    | Content Cell  | Content Cell  |
    | Content Cell  | Content Cell  |

####JS代码　

```javascript
function test(){
  console.log("Hello world!");
}
 
(function(){
    var box = function(){
        return box.fn.init();
    };

    box.prototype = box.fn = {
        init : function(){
            console.log('box.init()');

      return this;
        },

    add : function(str){
      alert("add", str);

      return this;
    },

    remove : function(str){
      alert("remove", str);

      return this;
    }
    };
    
    box.fn.init.prototype = box.fn;
    
    window.box =box;
})();

var testBox = box();
testBox.add("jQuery").remove("jQuery");
```

####HTML代码

```html
<!DOCTYPE html>
<html>
    <head>
        <mate charest="utf-8" />
        <title>Hello world!</title>
    </head>
    <body>
        <h1>Hello world!</h1>
    </body>
</html>
```

###图片

![ddd](/static/favicon.ico)

图片加链接：

[![xxx](http://i.imgur.com/5MCMHPl.png)](http://i.imgur.com/5MCMHPl.png)
                
----

###列表

####无序列表（减号）
                
- 列表一
- 列表二
- 列表三
     
####无序列表（星号）

* 列表一
* 列表二
* 列表三

####无序列表（加号和嵌套）
                
+ 列表一
+ 列表二
    + 列表二-1
    + 列表二-2
    + 列表二-3
+ 列表三
    * 列表一
    * 列表二
    * 列表三

####有序列表
                
1. 第一行
2. 第二行
3. 第三行
                
----
                    
###绘制表格

| 项目        | 价格   |  数量  |
| --------   | -----:  | :----:  |
| 计算机      | $1600   |   5     |
| 手机        |   $12   |   12   |
| 管线        |    $1    |  234  |
                    
First Header  | Second Header
------------- | -------------
Content Cell  | Content Cell
Content Cell  | Content Cell 

| First Header  | Second Header |
| ------------- | ------------- |
| Content Cell  | Content Cell  |
| Content Cell  | Content Cell  |

| Function name | Description                    |
| ------------- | ------------------------------ |
| `help()`      | Display the help window.       |
| `destroy()`   | **Destroy your computer!**     |

| Item      | Value |
| --------- | -----:|
| Computer  | $1600 |
| Phone     |   $12 |
| Pipe      |    $1 |
                
----

####特殊符号

&copy; &  &uml; &trade; &iexcl; &pound;
&amp; &lt; &gt; &yen; &euro; &reg; &plusmn; &para; &sect; &brvbar; &macr; &laquo; &middot; 

X&sup2; Y&sup3; &frac34; &frac14;  &times;  &divide;   &raquo;

18&ordm;C  &quot;  &apos;

####标题（用底线的形式）

This is an H1
=============

This is an H2
-------------

####反斜杠

\*literal asterisks\*
            
###科学公式
                    
$$E=mc^2$$

行内的公式$$E=mc^2$$行内的公式，行内的$$E=mc^2$$公式。

$$\(\sqrt{3x-1}+(1+x)^2\)$$
                    
$$\sin(\alpha)^{\theta}=\sum_{i=0}^{n}(x^i + \cos(f))$$
                
###绘制流程图

```flow
st=>start: 用户登陆
op=>operation: 登陆操作
cond=>condition: 登陆成功 Yes or No?
e=>end: 进入后台

st->op->cond
cond(yes)->e
cond(no)->op
```

###绘制序列图
                    
```seq
Andrew->China: Says Hello 
Note right of China: China thinks\nabout it 
China-->Andrew: How are you? 
Andrew->>China: I am good thanks!
```

###结束        
      </textarea>

    </div>
  </div>
</div>
{%endblock content%}

{%block  endscript%}        
<script type="text/javascript">
var testEditor;
$(function() {
    testEditor = editormd("test-editormd", {
        width: "100%",
        height: 710,
        path : '/static/frozen/editormd/lib/',
        // markdown : md,
        saveHTMLToTextarea : true,    // 保存HTML到Textarea
        //watch : false,                // 关闭实时预览
        htmlDecode : true,            // 开启HTML标签解析，为了安全性，默认不开启    
        //toolbar  : false,             //关闭工具栏
        //previewCodeHighlight : false, // 关闭预览HTML的代码块高亮，默认开启
        tex : true,                   // 开启科学公式TeX语言支持，默认关闭
        flowChart : true,             // 开启流程图支持，默认关闭
        sequenceDiagram : true,       // 开启时序/序列图支持，默认关闭,
        //dialogLockScreen : false,   // 设置弹出层对话框不锁屏，全局通用，默认为true
        //dialogShowMask : false,     // 设置弹出层对话框显示透明遮罩层，全局通用，默认为true
        //dialogDraggable : false,    // 设置弹出层对话框不可拖动，全局通用，默认为true
        //dialogMaskOpacity : 0.4,    // 设置透明遮罩层的透明度，全局通用，默认值为0.1
        //dialogMaskBgColor : "#000", // 设置透明遮罩层的背景颜色，全局通用，默认为#fff
        imageUpload : false,
        onload : function() {
            console.log('onload', this);
            //this.fullscreen();
            //this.unwatch();
            //this.watch().fullscreen();

            //this.setMarkdown("#PHP");
            //this.width("100%");
            //this.height(480);
            //this.resize("100%", 640);
        }
    });
    
  $("#show-btn").bind('click', function(){
      testEditor.show();
  });
  
  $("#hide-btn").bind('click', function(){
      testEditor.hide();
  });
  
  $("#get-md-btn").bind('click', function(){
      alert(testEditor.getMarkdown());
  });
  
  $("#get-html-btn").bind('click', function() {
      alert(testEditor.getHTML());
  });                
  
  $("#watch-btn").bind('click', function() {
      testEditor.watch();
  });                 
  
  $("#unwatch-btn").bind('click', function() {
      testEditor.unwatch();
  });              
  
  $("#preview-btn").bind('click', function() {
      testEditor.previewing();
  });
  
  $("#fullscreen-btn").bind('click', function() {
      testEditor.fullscreen();
  });
  
  $("#show-toolbar-btn").bind('click', function() {
      testEditor.showToolbar();
  });
  
  $("#close-toolbar-btn").bind('click', function() {
      testEditor.hideToolbar();
  });
});

</script>

{%endblock  endscript%}
